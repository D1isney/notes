(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4ab25f5f"],{1:function(t,e){},"15af":function(t,e,n){"use strict";n("5fd2")},2:function(t,e){},"2c9b":function(t,e,n){"use strict";n("9914")},3:function(t,e){},"5fd2":function(t,e,n){},9914:function(t,e,n){},bd113:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"inventory-box"},[n("Inventory")],1),n("div",{staticClass:"operation-box"},[n("div",{staticClass:"input-box"},[n("div",{staticClass:"input-form"},[n("el-form",{ref:"warehousingList",attrs:{"label-position":t.labelPosition,"label-width":"150px",model:t.warehousingList,rules:t.warehousingListRules}},[n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:18}},[n("el-form-item",{attrs:{label:"物料编码：",prop:"goodsCode"}},[n("el-input",{attrs:{clearable:""},model:{value:t.warehousingList.goodsCode,callback:function(e){t.$set(t.warehousingList,"goodsCode",e)},expression:"warehousingList.goodsCode"}})],1)],1)],1),n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:18}},[n("el-form-item",{attrs:{label:"库存编码："}},[n("el-input",{attrs:{clearable:"",placeholder:"手动编辑/自动生成"},model:{value:t.warehousingList.inventoryCode,callback:function(e){t.$set(t.warehousingList,"inventoryCode",e)},expression:"warehousingList.inventoryCode"}})],1)],1)],1),n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:18}},[n("el-form-item",{attrs:{label:"库位编码："}},[n("el-input",{attrs:{clearable:"",placeholder:"手动编辑/自动生成"},model:{value:t.warehousingList.storageCode,callback:function(e){t.$set(t.warehousingList,"storageCode",e)},expression:"warehousingList.storageCode"}})],1)],1)],1)],1)],1),n("div",{staticClass:"input-buttons"},[n("el-button",{staticClass:"input-button-operation",attrs:{type:"primary",icon:"el-icon-caret-left"},on:{click:t.manualWarehousing}},[t._v(" 手动入库 ")]),n("el-button",{staticClass:"input-button-operation",attrs:{type:"primary",icon:"el-icon-full-screen"},on:{click:t.QR_Warehousing}},[t._v(" 扫码入库 ")]),n("el-button",{staticClass:"input-button-operation",attrs:{type:"primary",icon:"el-icon-caret-right"}},[t._v("手动出库")])],1)]),n("div",{staticClass:"button-box"},[n("div",{staticClass:"buttons1"},[n("el-button",{staticClass:"button1",attrs:{icon:"el-icon-sort",type:"primary"}},[t._v("智能盘库")]),n("el-button",{staticClass:"button1",attrs:{icon:"el-icon-s-operation",type:"primary"}},[t._v("库位信息")]),n("el-button",{staticClass:"button1",attrs:{icon:"el-icon-s-operation",type:"primary"}},[t._v("库存信息")])],1),n("div",{staticClass:"buttons2"},[n("el-button",{staticClass:"button1",attrs:{icon:"el-icon-menu",type:"primary"}},[t._v("订单任务")]),n("el-button",{staticClass:"button1",attrs:{icon:"el-icon-menu",type:"primary"}},[t._v("任务日志")]),n("el-button",{staticClass:"button1",attrs:{icon:"el-icon-menu",type:"primary"}},[t._v("操作日志")])],1)])])])},s=[],o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.inventoryLoading,expression:"inventoryLoading"}],staticClass:"inventory-container"},t._l(this.crosswise,(function(e,i){return n("div",{ref:"rowBox",refInFor:!0,staticClass:"box"},t._l(e.inventoryList,(function(e,s){return n("div",{key:s,ref:"layerBox",refInFor:!0,staticClass:"inventory",class:{highlighted:e.isSelected},style:{backgroundColor:t.getStatusColor(e.status)},on:{click:function(n){return t.selectItem(i,s,e)}}})})),0)})),0)},r=[],a=(n("4de4"),n("d81d"),n("d3b7"),n("0643"),n("2382"),n("4e3e"),n("a573"),n("159b"),n("b775"));function c(){return Object(a["a"])({url:"/storage/queryStorageAndInventory",method:"get"})}var l={computed:{},data:function(){return{query:{page:1,limit:10},inventoryLoading:!0,crosswise:[],boxWidth:"",inventoryQuery:{page:1,limit:50,storageId:0},maxWidth:0,maxHeight:0,selectIndex:null,selectLayer:[]}},methods:{getList:function(){var t=this;c().then((function(e){200===e.code&&(t.maxWidth=e.data.length,t.crosswise=e.data.map((function(e){return e.inventoryList.length>0&&e.inventoryList.forEach((function(e){t.$set(e,"isSelected",!1)})),e})),e.data.forEach((function(e){e.hasOwnProperty("inventoryList")||(e.inventoryList=[]),e.inventoryList.length>t.maxHeight&&(t.maxHeight=e.inventoryList.length)})),t.resetSize(),t.inventoryLoading=!1)}))},resetSize:function(){var t=this;this.$nextTick((function(){t.$refs.rowBox.forEach((function(e){e.style.width=100/t.maxWidth-3+"%"})),t.$refs.layerBox.forEach((function(e){e.style.height=100/t.maxHeight-5+"%"}))}))},selectItem:function(t,e,n){var i=this.crosswise[t].inventoryList[e];this.$set(i,"isSelected",!i.isSelected),i.isSelected?this.selectLayer.push(n):this.selectLayer=this.selectLayer.filter((function(t){return t.id!==n.id}))},getStatusColor:function(t){switch(t){case 0:return"#dedede";case 1:return"#4682b4";case 2:return"#32cd32";case 3:return"#4682b4";case 4:return"#32cd32";case 5:return"#bbbbbb";default:return"#cccccc"}}},created:function(){this.getList()}},u=l,d=(n("2c9b"),n("2877")),h=Object(d["a"])(u,o,r,!1,null,"41efcc49",null),f=h.exports;n("ba0f");function g(t){return Object(a["a"])({url:"/inventory/saveOrUpdateInventory",method:"post",data:t})}var p={data:function(){return{warehousingList:{type:0,goodsCode:"24122701",inventoryCode:"25020701",storageCode:"25020601"},warehousingListRules:{goodsCode:[{required:!1,message:"请输入物料编码！！！",trigger:"change"}]},labelPosition:"left"}},methods:{QR_Warehousing:function(){this.$notify({title:"失败",message:"暂不支持扫码枪入库功能，请及时联系管理员！！！",type:"error"})},manualWarehousing:function(){var t=this;this.$refs.warehousingList.validate((function(e){if(!e)return!1;g(t.warehousingList).then((function(t){console.log(t)}))}))}},components:{Inventory:f}},b=p,v=(n("15af"),Object(d["a"])(b,i,s,!1,null,"199e0b3c",null));e["default"]=v.exports}}]);