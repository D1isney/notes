(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-769bf2c9"],{2456:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"config-all"},[n("div",{staticClass:"role-all"},[n("el-table",{ref:"roleTable",staticStyle:{width:"100%"},attrs:{data:e.roleList,"tooltip-effect":"dark",height:"100%","header-cell-class-name":e.cellClass},on:{select:e.handleSelect,"row-click":e.handleRowClick}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),n("el-table-column",{attrs:{prop:"code",label:"角色编码"}}),n("el-table-column",{attrs:{prop:"name",label:"角色","show-overflow-tooltip":""}})],1)],1),n("div",{staticClass:"permissions-all"},[n("el-transfer",{directives:[{name:"loading",rawName:"v-loading",value:e.permissionsLoading,expression:"permissionsLoading"}],staticClass:"permissions-transfer",attrs:{filterable:"",titles:["全部权限","用户权限"],"button-texts":["取消","配置"],format:{noChecked:"${total}",hasChecked:"${checked}/${total}"},data:e.permissionsAllList},on:{change:e.handleChange},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.option;return n("span",{},[e._v(" "+e._s(i.name)+" - "+e._s(i.path)+" ")])}}]),model:{value:e.permissionsByRoleList,callback:function(t){e.permissionsByRoleList=t},expression:"permissionsByRoleList"}})],1)])])},o=[],a=n("c7eb"),r=n("1da1"),s=(n("b0c0"),n("d3b7"),n("0643"),n("4e3e"),n("159b"),n("333d")),c=n("c743"),u=n("f1f7"),l=(n("f183"),{components:{pagination:s["a"]},data:function(){return{permissionsAllList:[],permissionsByRoleList:[],query:{},roleList:[],permissionsLoading:!1,checkId:0,isRadioMode:!0}},computed:{},created:function(){this.getRoleList()},methods:{handleSelect:function(e,t){this.isRadioMode&&(this.$refs["roleTable"].clearSelection(),0!=e.length?(t.flag=!0,this.$refs["roleTable"].toggleRowSelection(t,!0)):(t.flag=!1,this.$refs["roleTable"].toggleRowSelection(t,!1)),this.loadRoleAndPermissions(t))},handleRowClick:function(e){var t=!e.flag;this.isRadioMode&&(this.$refs["roleTable"].clearSelection(),this.roleList.forEach((function(e){e.flag=!1}))),e.flag=t,this.$refs["roleTable"].toggleRowSelection(e,t),this.loadRoleAndPermissions(e)},loadRoleAndPermissions:function(e){var t=this;this.permissionsLoading=!0,setTimeout((function(){t.permissionsAllList=[],t.permissionsByRoleList=[],t.getPermissionsList(),t.getPermissionsByRoleList(e.id),t.permissionsLoading=!1,t.checkId=e.id}),500)},cellClass:function(e){if(this.isRadioMode&&0===e.columnIndex)return"hideCheckbox"},generateData:function(e){for(var t=[],n=0;n<e.length;n++)t.push({id:e[n].id,key:e[n].id,label:e[n].name,name:e[n].name,path:e[n].path,disabled:!1});return t},generateDataSelection:function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].id);return t},getRoleList:function(){var e=Object(r["a"])(Object(a["a"])().mark((function e(){var t=this;return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["e"])(this.query).then((function(e){200===e.code&&(t.roleList=e.data.list)}));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleChange:function(e,t,n){var i={roleId:this.checkId,permissionId:e};this.configRolePermissions(i)},getPermissionsList:function(){var e=this;return Object(r["a"])(Object(a["a"])().mark((function t(){return Object(a["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["c"])(e.query).then((function(t){if(200===t.code&&null!==t.data.list){var n=e.generateData(t.data.list);e.permissionsAllList=n}}));case 2:case"end":return t.stop()}}),t)})))()},getPermissionsByRoleList:function(e){var t=this;return Object(r["a"])(Object(a["a"])().mark((function n(){return Object(a["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(u["b"])(e).then((function(e){if(200===e.code&&null!=e.data){var n=t.generateDataSelection(e.data);t.permissionsByRoleList=n}}));case 2:case"end":return n.stop()}}),n)})))()},configRolePermissions:function(e){var t=this;return Object(r["a"])(Object(a["a"])().mark((function n(){return Object(a["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(c["b"])(e).then((function(e){200===e.code&&(t.$message.success(e.message),t.permissionsLoading=!0,setTimeout((function(){t.permissionsLoading=!1}),500))}));case 2:case"end":return n.stop()}}),n)})))()}}}),d=l,f=(n("cf36"),n("2877")),p=Object(f["a"])(d,i,o,!1,null,"38fd73b0",null);t["default"]=p.exports},"333d":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pagination-container",class:{hidden:e.hidden}},[n("el-pagination",e._b({attrs:{background:e.background,"current-page":e.currentPage,"page-size":e.pageSize,layout:e.layout,"page-sizes":e.pageSizes,total:e.total,small:""},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},"el-pagination",e.$attrs,!1))],1)},o=[];n("a9e3");Math.easeInOutQuad=function(e,t,n,i){return e/=i/2,e<1?n/2*e*e+t:(e--,-n/2*(e*(e-2)-1)+t)};var a=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();function r(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}function s(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function c(e,t,n){var i=s(),o=e-i,c=20,u=0;t="undefined"===typeof t?500:t;var l=function(){u+=c;var e=Math.easeInOutQuad(u,i,o,t);r(e),u<t?a(l):n&&"function"===typeof n&&n()};l()}var u={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:20},pageSizes:{type:Array,default:function(){return[10,20,30,50,100,150]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(e){this.$emit("update:page",e)}},pageSize:{get:function(){return this.limit},set:function(e){this.$emit("update:limit",e)}}},methods:{handleSizeChange:function(e){this.$emit("pagination",{page:this.currentPage,limit:e}),this.autoScroll&&c(0,800)},handleCurrentChange:function(e){this.$emit("pagination",{page:e,limit:this.pageSize}),this.autoScroll&&c(0,800)}}},l=u,d=(n("6291"),n("2877")),f=Object(d["a"])(l,i,o,!1,null,"499152c2",null);t["a"]=f.exports},6291:function(e,t,n){"use strict";n("e0a3")},"974f":function(e,t,n){},bb2f:function(e,t,n){var i=n("d039");e.exports=!i((function(){return Object.isExtensible(Object.preventExtensions({}))}))},c743:function(e,t,n){"use strict";n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return u}));var i=n("b775");function o(e){return Object(i["a"])({url:"/role/list",method:"get",params:e})}function a(e){return Object(i["a"])({url:"/role/saveOrUpdate",method:"post",data:e})}function r(e){return Object(i["a"])({url:"/role/delete?ids=".concat(e),method:"delete"})}function s(e){return Object(i["a"])({url:"/role/getPermissionsByRoleId/".concat(e),method:"get"})}function c(e){return Object(i["a"])({url:"/role/configRolePermissions",method:"post",data:e})}var u={status:{0:{label:"不可用角色",value:0},1:{label:"可用角色",value:1}}}},cf36:function(e,t,n){"use strict";n("974f")},e0a3:function(e,t,n){},f183:function(e,t,n){var i=n("d012"),o=n("861d"),a=n("5135"),r=n("9bf2").f,s=n("90e3"),c=n("bb2f"),u=s("meta"),l=0,d=Object.isExtensible||function(){return!0},f=function(e){r(e,u,{value:{objectID:"O"+ ++l,weakData:{}}})},p=function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,u)){if(!d(e))return"F";if(!t)return"E";f(e)}return e[u].objectID},m=function(e,t){if(!a(e,u)){if(!d(e))return!0;if(!t)return!1;f(e)}return e[u].weakData},h=function(e){return c&&g.REQUIRED&&d(e)&&!a(e,u)&&f(e),e},g=e.exports={REQUIRED:!1,fastKey:p,getWeakData:m,onFreeze:h};i[u]=!0},f1f7:function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"f",(function(){return r})),n.d(t,"a",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"b",(function(){return u}));var i=n("b775");function o(){return Object(i["a"])({url:"/permissions/getRemark",method:"get"})}function a(e){return Object(i["a"])({url:"/permissions/list",method:"get",params:e})}function r(e){return Object(i["a"])({url:"/permissions/saveOrUpdate",method:"post",data:e})}function s(e){return Object(i["a"])({url:"/permissions/delete?ids=".concat(e),method:"delete"})}function c(){return Object(i["a"])({url:"/permissions/restPermissions",method:"get"})}function u(e){return Object(i["a"])({url:"/permissions/getPermissionsByRoleId/".concat(e),method:"get"})}}}]);