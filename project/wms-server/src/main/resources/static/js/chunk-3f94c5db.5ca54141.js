(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3f94c5db"],{"0ed0":function(t,e,a){},"31d0":function(t,e,a){"use strict";a("0ed0")},"333d":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pagination-container",class:{hidden:t.hidden}},[a("el-pagination",t._b({attrs:{background:t.background,"current-page":t.currentPage,"page-size":t.pageSize,layout:t.layout,"page-sizes":t.pageSizes,total:t.total,small:""},on:{"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e},"update:pageSize":function(e){t.pageSize=e},"update:page-size":function(e){t.pageSize=e},"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}},"el-pagination",t.$attrs,!1))],1)},o=[];a("a9e3");Math.easeInOutQuad=function(t,e,a,n){return t/=n/2,t<1?a/2*t*t+e:(t--,-a/2*(t*(t-2)-1)+e)};var r=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}();function i(t){document.documentElement.scrollTop=t,document.body.parentNode.scrollTop=t,document.body.scrollTop=t}function s(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function l(t,e,a){var n=s(),o=t-n,l=20,d=0;e="undefined"===typeof e?500:e;var c=function(){d+=l;var t=Math.easeInOutQuad(d,n,o,e);i(t),d<e?r(c):a&&"function"===typeof a&&a()};c()}var d={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:20},pageSizes:{type:Array,default:function(){return[10,20,30,50,100,150]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(t){this.$emit("update:page",t)}},pageSize:{get:function(){return this.limit},set:function(t){this.$emit("update:limit",t)}}},methods:{handleSizeChange:function(t){this.$emit("pagination",{page:this.currentPage,limit:t}),this.autoScroll&&l(0,800)},handleCurrentChange:function(t){this.$emit("pagination",{page:t,limit:this.pageSize}),this.autoScroll&&l(0,800)}}},c=d,u=(a("6291"),a("2877")),p=Object(u["a"])(c,n,o,!1,null,"499152c2",null);e["a"]=p.exports},"3de9":function(t,e,a){"use strict";a.d(e,"c",(function(){return o})),a.d(e,"b",(function(){return r})),a.d(e,"d",(function(){return i})),a.d(e,"a",(function(){return s}));var n=a("b775");function o(t){return Object(n["a"])({url:"/paramKey/list",params:t})}function r(t){return Object(n["a"])({url:"/paramKey/delete?ids=".concat(t),method:"delete"})}function i(t){return Object(n["a"])({url:"/paramKey/saveOrUpdate",method:"post",data:t})}var s={type:{0:{label:"塑料板",value:0,color:"#ccc"},1:{label:"亚克力板",value:1,color:"#ccc"}}}},"51ed":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"acrylicPlate-table"},[a("el-table",{ref:"acrylicPlateTable",staticStyle:{width:"100%"},attrs:{data:t.list,"highlight-current-row":!0,height:"93%",stripe:"stripe","row-key":"id","expand-row-keys":t.expands},on:{"row-click":t.openExpand,"expand-change":t.expandChange,"selection-change":t.handleSelectionChange,"current-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"创建人："}},[t._v(" "+t._s(e.row.createUsername)+" ")])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"更新人："}},[t._v(" "+t._s(e.row.updateUsername)+" ")])],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"创建时间："}},[t._v(" "+t._s(e.row.createTime)+" ")])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"更新时间："}},[t._v(" "+t._s(e.row.updateTime)+" ")])],1)],1),e.row.params?a("el-row",{attrs:{gutter:20}},t._l(e.row.params,(function(e){return a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.text}},[a("span",[t._v(t._s(e.value))])])],1)})),1):t._e()],1)]}}])}),a("el-table-column",{attrs:{label:"物料编码",prop:"code"}}),a("el-table-column",{attrs:{label:"物料名",prop:"name"}}),a("el-table-column",{attrs:{label:"类型"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("el-tag",{attrs:{type:t.typeTag(n.type),effect:"dark",size:"small"}},[t._v(" "+t._s((n.type||0===n.type)&&t.typeOptions[n.type].label)+" ")])]}}])}),a("el-table-column",{attrs:{label:"创建时间",prop:"createTime"}}),a("el-table-column",{attrs:{align:"right"},scopedSlots:t._u([{key:"header",fn:function(e){return[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{placeholder:"查询",clearable:""},model:{value:t.query.param,callback:function(e){t.$set(t.query,"param",e)},expression:"query.param"}})],1),a("el-col",{attrs:{span:4,push:2}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(e){return t.getList()}}})],1),a("el-col",{attrs:{span:4,push:2}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-refresh"},on:{click:function(e){return t.clear()}}})],1)],1)]}},{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",circle:""},on:{click:function(a){return a.stopPropagation(),t.openEditDrawer(e.row)}}}),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(a){return a.stopPropagation(),t.deleteGoods(e.row)}}})]}}])})],1),a("div",{staticClass:"button-box"},[a("el-button",{staticClass:"button-box-add",attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(e){return t.openAddDrawer()}}}),a("el-button",{staticClass:"button-box-delete",attrs:{type:"danger",icon:"el-icon-delete-solid"},on:{click:t.deleteAll}})],1)],1),a("div",{staticClass:"page"},[a("pagination",{attrs:{total:t.total,page:t.query.page,limit:t.query.limit},on:{"update:page":function(e){return t.$set(t.query,"page",e)},"update:limit":function(e){return t.$set(t.query,"limit",e)},pagination:t.getList}})],1),a("el-drawer",{attrs:{title:"修改物料",visible:t.editDrawer,direction:t.direction},on:{"update:visible":function(e){t.editDrawer=e}}},[a("el-form",{ref:"editGoodsList",attrs:{model:t.editGoodsList,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"物料编码"}},[a("el-col",{attrs:{span:15}},[a("el-input",{attrs:{disabled:""},model:{value:t.editGoodsList.code,callback:function(e){t.$set(t.editGoodsList,"code",e)},expression:"editGoodsList.code"}})],1)],1),a("el-form-item",{attrs:{label:"物料名称"}},[a("el-col",{attrs:{span:15}},[a("el-input",{model:{value:t.editGoodsList.name,callback:function(e){t.$set(t.editGoodsList,"name",e)},expression:"editGoodsList.name"}})],1)],1),a("el-form-item",{attrs:{label:"板材类型"}},[a("el-col",{attrs:{span:15}},[a("el-select",{attrs:{placeholder:"板材类型"},model:{value:t.defaultSelect,callback:function(e){t.defaultSelect=e},expression:"defaultSelect"}},t._l(t.optionsType,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)],1),a("el-form-item",{attrs:{label:"添加参数"}},[a("el-dropdown",{attrs:{"split-button":"",type:"primary",icon:"el-icon-circle-plus-outline"}},[t._v(" 参数类型 "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.editGoodsParam,(function(e){return a("el-dropdown-item",{nativeOn:{click:function(a){return t.addParam(e)}}},[t._v(" "+t._s(e.name)+" ")])})),1)],1)],1),t._l(t.editGoodsList.params,(function(e){return a("el-row",{attrs:{gutter:10}},[a("el-form-item",{key:"param.id",attrs:{label:e.text}},[a("el-col",{attrs:{span:15}},[a("el-input",{attrs:{placeholder:e.text},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"param.value"}})],1),a("el-col",{attrs:{span:1,push:1}},[a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-close",circle:""},on:{click:function(a){return t.deleteParam(e)}}})],1)],1)],1)})),a("el-form-item",[a("el-col",{attrs:{span:15}},[a("el-button",{attrs:{type:"primary"},on:{click:t.editGoods}},[t._v("修改")]),a("el-button",{attrs:{type:"info"},on:{click:function(e){t.editDrawer=!1}}},[t._v("取消")])],1)],1)],2)],1),a("el-drawer",{attrs:{title:"添加物料",visible:t.addDrawer,direction:t.direction},on:{"update:visible":function(e){t.addDrawer=e}}},[a("el-form",{ref:"addGoodsList",attrs:{model:t.addGoodsList,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"物料编码"}},[a("el-col",{attrs:{span:15}},[a("el-input",{attrs:{disabled:"",placeholder:"Auto"},model:{value:t.addGoodsList.code,callback:function(e){t.$set(t.addGoodsList,"code",e)},expression:"addGoodsList.code"}})],1)],1),a("el-form-item",{attrs:{label:"物料名称"}},[a("el-col",{attrs:{span:15}},[a("el-input",{model:{value:t.addGoodsList.name,callback:function(e){t.$set(t.addGoodsList,"name",e)},expression:"addGoodsList.name"}})],1)],1),a("el-form-item",{attrs:{label:"板材类型"}},[a("el-col",{attrs:{span:15}},[a("el-select",{attrs:{value:t.query.type,placeholder:"板材类型"},model:{value:t.addGoodsList.type,callback:function(e){t.$set(t.addGoodsList,"type",e)},expression:"addGoodsList.type"}},[a("el-option",{key:this.typeOptions[this.query.type].value,attrs:{label:this.typeOptions[this.query.type].label,value:this.typeOptions[this.query.type].value}})],1)],1)],1),a("el-form-item",{attrs:{label:"添加参数"}},[a("el-dropdown",{attrs:{"split-button":"",type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:function(e){return t.addParamDefault()}}},[t._v(" 参数类型 "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.addGoodsParam,(function(e){return a("el-dropdown-item",{nativeOn:{click:function(a){return t.addGoodsParamFun(e)}}},[t._v(" "+t._s(e.name)+" ")])})),1)],1)],1),t._l(t.addGoodsList.params,(function(e){return a("el-row",{attrs:{gutter:10},model:{value:t.addGoodsList.params,callback:function(e){t.$set(t.addGoodsList,"params",e)},expression:"addGoodsList.params"}},[a("el-form-item",{key:"param.paramId",attrs:{label:e.text}},[a("el-col",{attrs:{span:15}},[a("el-input",{attrs:{placeholder:e.text},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"param.value"}})],1),a("el-col",{attrs:{span:1,push:1}},[a("el-button",{attrs:{type:"danger",icon:"el-icon-circle-close",circle:""},on:{click:function(a){return t.deleteGoodsParam(e)}}})],1)],1)],1)})),a("el-form-item",[a("el-col",{attrs:{span:15}},[a("el-button",{attrs:{type:"primary"},on:{click:t.addGoods}},[t._v("添加")]),a("el-button",{attrs:{type:"info"},on:{click:function(e){t.addDrawer=!1}}},[t._v("取消")])],1)],1)],2)],1)],1)},o=[],r=a("c7eb"),i=a("1da1"),s=(a("4de4"),a("c740"),a("caad"),a("d81d"),a("a434"),a("b0c0"),a("e9c4"),a("b64b"),a("d3b7"),a("2532"),a("0643"),a("2382"),a("a573"),a("a835")),l=a("333d"),d=a("3de9"),c=a("837c"),u={components:{pagination:l["a"]},data:function(){return{getRowKeys:function(t){return t.id},editDrawer:!1,addDrawer:!1,direction:"rtl",query:{page:1,limit:10,type:0,param:""},total:10,list:[],totalCount:0,expands:[],optionsType:[],defaultSelect:0,editGoodsList:{},editGoodsParam:[],addGoodsList:{code:"",name:"",params:[],type:0},addGoodsParam:[],multipleSelection:[]}},computed:{item:function(){return c["a"]},typeOptions:function(){return Object.keys(d["a"].type).map((function(t){return d["a"].type[t]}))}},created:function(){this.getList(),this.optionsType=d["a"].type},methods:{addParam:function(t){var e=t.goodId,a=void 0===e?this.editGoodsList.id:e,n=t.paramId,o=void 0===n?t.id:n,r=t.text,i=void 0===r?t.key:r,s=t.name,l={goodId:a,name:s,paramId:o,text:i,value:""};this.editGoodsParam=this.editGoodsParam.filter((function(t){var e,a=null!==(e=t.id)&&void 0!==e?e:t.paramId;return a!==o})),this.editGoodsList.params.push(l)},addGoodsParamFun:function(t){var e=t.paramId,a=void 0===e?t.id:e,n=t.text,o=void 0===n?t.key:n,r=t.name,i={goodId:null,name:r,paramId:a,text:o,value:""};this.addGoodsList.params.push(i),this.addGoodsParam=this.addGoodsParam.filter((function(e){var a,n,o=null!==(a=e.id)&&void 0!==a?a:e.paramId,r=null!==(n=t.id)&&void 0!==n?n:t.paramId;return o!==r}))},deleteParam:function(t){var e=this.editGoodsList.params.findIndex((function(e){return e.paramId===t.paramId}));-1!==e&&this.editGoodsList.params.splice(e,1),this.editGoodsParam.push(t)},deleteGoodsParam:function(t){var e=this.addGoodsList.params.findIndex((function(e){return e.paramId===t.paramId}));-1!==e&&this.addGoodsList.params.splice(e,1),this.addGoodsParam.push(t)},openEditDrawer:function(t){var e=this;this.editDrawer=!0,this.defaultSelect=this.typeOptions[t.type].value,this.editGoodsList=JSON.parse(JSON.stringify(t)),Object(s["d"])(this.editGoodsList.type,this.editGoodsList.id).then((function(t){e.editGoodsParam=[],200===t.code&&(e.editGoodsParam=t.data)}))},openAddDrawer:function(){var t=this;this.addGoodsList={},this.addGoodsList.type=this.query.type,this.addDrawer=!0,this.addGoodsList.params=[],Object(s["c"])(this.query.type).then((function(e){t.addGoodsParam=[],200===e.code&&(t.addGoodsParam=e.data)}))},clear:function(){var t=this;return Object(i["a"])(Object(r["a"])().mark((function e(){return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.query={page:1,limit:10,type:1,param:""},e.next=3,Object(s["e"])(t.query).then((function(e){if(200===e.code){t.list=e.data.list,t.total=e.data.totalCount;for(var a=function(e){Object(s["b"])(t.list[e].id).then((function(a){200===a.code&&t.$set(t.list[e],"params",a.data)}))},n=0;n<t.list.length;n++)a(n)}}));case 3:case"end":return e.stop()}}),e)})))()},getList:function(){var t=this;return Object(i["a"])(Object(r["a"])().mark((function e(){return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(s["e"])(t.query).then((function(e){if(200===e.code){t.list=e.data.list,t.total=e.data.totalCount;for(var a=function(e){Object(s["b"])(t.list[e].id).then((function(a){200===a.code&&(a.data?t.$set(t.list[e],"params",a.data):t.$set(t.list[e],"params",[]))}))},n=0;n<t.list.length;n++)a(n)}}));case 2:case"end":return e.stop()}}),e)})))()},typeTag:function(t){return t>0?"success":"info"},openExpand:function(t,e,a){this.expands.includes(t.id)?this.expands=this.expands.filter((function(e){return e!==t.id})):this.expands.push(t.id)},expandChange:function(t,e){var a=this;e.length?(a.expands=[],t&&a.expands.push(t.id)):a.expands=[]},editGoods:function(){var t=this;return Object(i["a"])(Object(r["a"])().mark((function e(){return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.editGoodsList.type=t.defaultSelect,e.next=3,Object(s["f"])(t.editGoodsList).then((function(e){200===e.code?(t.$message.success(e.message),t.editDrawer=!1,t.getList()):t.$message.success(e.message)}));case 3:case"end":return e.stop()}}),e)})))()},deleteGoods:function(t){var e=this;this.$confirm("此操作将永久删除该物料, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(s["a"])(t.id).then((function(t){200===t.code&&e.$message.success(t.message),e.getList()}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},addGoods:function(){var t=this;return Object(i["a"])(Object(r["a"])().mark((function e(){return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.addGoodsList.type=t.query.type,e.next=3,Object(s["f"])(t.addGoodsList).then((function(e){200===e.code?(t.$message.success(e.message),t.addDrawer=!1,t.getList()):t.$message.success(e.message)}));case 3:case"end":return e.stop()}}),e)})))()},handleSelectionChange:function(t){this.multipleSelection=t},deleteAll:function(){var t=this;if(this.multipleSelection.length<1)this.$message.warning("请先勾选需要操作的物料");else{var e=this.multipleSelection.map((function(t){return t.id}));this.$confirm("此操作将永久删除已选中的物料, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(s["a"])(e).then((function(a){t.$message.success(a.message),t.list.length===e.length&&t.query.page>1&&t.query.page--,t.getList()}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))}}}},p=u,m=(a("31d0"),a("2877")),f=Object(m["a"])(p,n,o,!1,null,"178cc634",null);e["default"]=f.exports},6291:function(t,e,a){"use strict";a("e0a3")},a434:function(t,e,a){"use strict";var n=a("23e7"),o=a("23cb"),r=a("a691"),i=a("50c4"),s=a("7b0b"),l=a("65f0"),d=a("8418"),c=a("1dde"),u=a("ae40"),p=c("splice"),m=u("splice",{ACCESSORS:!0,0:0,1:2}),f=Math.max,h=Math.min,g=9007199254740991,y="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!p||!m},{splice:function(t,e){var a,n,c,u,p,m,b=s(this),v=i(b.length),w=o(t,v),G=arguments.length;if(0===G?a=n=0:1===G?(a=0,n=v-w):(a=G-2,n=h(f(r(e),0),v-w)),v+a-n>g)throw TypeError(y);for(c=l(b,n),u=0;u<n;u++)p=w+u,p in b&&d(c,u,b[p]);if(c.length=n,a<n){for(u=w;u<v-n;u++)p=u+n,m=u+a,p in b?b[m]=b[p]:delete b[m];for(u=v;u>v-n+a;u--)delete b[u-1]}else if(a>n)for(u=v-n;u>w;u--)p=u+n-1,m=u+a-1,p in b?b[m]=b[p]:delete b[m];for(u=0;u<a;u++)b[u+w]=arguments[u+2];return b.length=v-n+a,c}})},a835:function(t,e,a){"use strict";a.d(e,"e",(function(){return o})),a.d(e,"b",(function(){return r})),a.d(e,"d",(function(){return i})),a.d(e,"c",(function(){return s})),a.d(e,"f",(function(){return l})),a.d(e,"a",(function(){return d}));a("99af");var n=a("b775");function o(t){return Object(n["a"])({url:"/goods/list",params:t})}function r(t){return Object(n["a"])({url:"/goods/getGoodsParamByGoodId/".concat(t),method:"get"})}function i(t,e){return Object(n["a"])({url:"/paramKey/getParamKeyListByType/".concat(t,"/").concat(e),method:"get"})}function s(t){return Object(n["a"])({url:"/paramKey/getParamKeyListByType/".concat(t),method:"get"})}function l(t){return Object(n["a"])({url:"/goods/saveOrUpdateGoods",method:"post",data:t})}function d(t){return Object(n["a"])({url:"/goods/delete?ids=".concat(t),method:"delete"})}},c740:function(t,e,a){"use strict";var n=a("23e7"),o=a("b727").findIndex,r=a("44d2"),i=a("ae40"),s="findIndex",l=!0,d=i(s);s in[]&&Array(1)[s]((function(){l=!1})),n({target:"Array",proto:!0,forced:l||!d},{findIndex:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),r(s)},e0a3:function(t,e,a){},e9c4:function(t,e,a){var n=a("23e7"),o=a("d066"),r=a("d039"),i=o("JSON","stringify"),s=/[\uD800-\uDFFF]/g,l=/^[\uD800-\uDBFF]$/,d=/^[\uDC00-\uDFFF]$/,c=function(t,e,a){var n=a.charAt(e-1),o=a.charAt(e+1);return l.test(t)&&!d.test(o)||d.test(t)&&!l.test(n)?"\\u"+t.charCodeAt(0).toString(16):t},u=r((function(){return'"\\udf06\\ud834"'!==i("\udf06\ud834")||'"\\udead"'!==i("\udead")}));i&&n({target:"JSON",stat:!0,forced:u},{stringify:function(t,e,a){var n=i.apply(null,arguments);return"string"==typeof n?n.replace(s,c):n}})}}]);